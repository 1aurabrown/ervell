{
  "name": "backbone-super-sync",
  "version": "1.1.1",
  "description": "Server-side Backbone.sync adapter using super agent.",
  "keywords": [
    "backbone",
    "sync"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/artsy/backbone-super-sync.git"
  },
  "author": {
    "name": "Craig Spaeth",
    "email": "craigspaeth@gmail.com",
    "url": "http://craigspaeth.com"
  },
  "engines": {
    "node": ">= 0.10.x"
  },
  "scripts": {
    "test": "mocha test.js -r should"
  },
  "dependencies": {
    "superagent": "*",
    "bluebird": "*"
  },
  "devDependencies": {
    "mocha": "*",
    "should": "*",
    "express": "*",
    "backbone": "*",
    "body-parser": "*"
  },
  "readme": "# Backbone Super Sync\n\nAn [isomorphic](http://nerds.airbnb.com/isomorphic-javascript-future-web-apps/) Backbone.sync adapter using [super-agent](https://github.com/visionmedia/superagent).\n\n## Example\n\n````javascript\nvar Backbone = require('backbone');\nBackbone.sync = require('backbone-super-sync');\n````\n\n## Request timeouts\n\nBy default Backbone super sync will timeout requests that take longer than 10 seconds. This is to avoid\nlong hanging requests that can potentionally leak memory. You can set this to be longer for all requests, e.g.\n\n````javascript\nsuperSync.timeout = 60000; // All requests timeout after 1 minute\n````\n\n...or you can set this per-request by specifying it in options, e.g.\n\n````\nmodel.fetch({\n  timeout: 5000,\n  error: function(model, err) {\n    if (err.message.match('timeout') alert('too slow!');\n  }\n});\n````\n\n## Built-in request caching\n\nAt [Artsy](http://artsy.net) we naively cache our server-side Backbone.sync requests. You can configure Backbone Super Sync to do this by setting `superSync.cacheClient = client`. If the `cache: true` option is set in a `model.fetch`, Backbone Super Sync will use the `cacheClient` to cache GET requests. The `client` API is based off of [node-redis](https://github.com/mranney/node_redis) but you could easily leverage this API to roll your own caching mechanism.\n\ne.g.\n\n````javascript\nmemoryCache = {}\nsuperSync.cacheClient = {\n  set: function(key, val, callback) {\n    memoryCache[key] = val;\n    callback(null, 'OK');\n  }),\n  get: function(key, callback) {\n    callback(null, memoryCache[key]);\n  },\n  expire: function(key, expiresIn, callback) {\n    setTimeout(expiresIn / 1000, function() {\n      memoryCache[key] = null;\n      callback(null, 1);\n    });\n  }\n}\n// Cache expiry time. Uses seconds. Defaults to 3600 or 1 hour. You may\n// also pass `cacheTime: Number` in the options of a fetch to set per-request.\nsuperSync.defaultCacheTime = 60;\n\nnew Backbone.Model({ id: 'cach-me' }).fetch({\n  cache: true,\n  success: function() {}\n})\n````\n\nUse at your own riskâ€”remember [there are only two hard things](http://martinfowler.com/bliki/TwoHardThings.html).\n\n## Modifying global Backbone.sync requests\n\nIn the past there was a helper `superSync.editRequest = function(req) {}`. This has been deprecated. If you would like to modify sync-wide requests you can simply wrap Backbone.sync again. For example:\n\n````javascript\nvar Backbone = require('backbone');\nvar sync = Backbone.sync = require('backbone-super-sync');\n\nBackbone.sync = function(method, model, options) {\n  options.headers['x-xapp-token'] = 'foobar';\n  return sync(method, model, options);\n}\n````\n\n## Contributing\n\nPlease fork the project and submit a pull request with tests. Install node modules `npm install` and run tests with `npm test`\n\n## License\n\nMIT\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/artsy/backbone-super-sync/issues"
  },
  "homepage": "https://github.com/artsy/backbone-super-sync",
  "_id": "backbone-super-sync@1.1.1",
  "_shasum": "2b53ddd5a997d3165554f100b9aab31d1099340f",
  "_from": "backbone-super-sync@*",
  "_resolved": "https://registry.npmjs.org/backbone-super-sync/-/backbone-super-sync-1.1.1.tgz"
}
