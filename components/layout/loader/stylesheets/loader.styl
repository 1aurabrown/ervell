@require '../../variables'

delayQuotient = 3
loadSize = 35px
pixelSize = 2px

@keyframes aroundTheSquare
  0%
    transform translate3D(0, 0, 0)
  25%
    transform translate3D((loadSize), 0, 0)
  50%
    transform translate3D((loadSize), (loadSize), 0)
  75%
    transform translate3D(0, (loadSize), 0)

#l-loader-container
  display none

body.is-loading #l-loader-container
  display block
  position fixed
  z-index loader_z
  pointer-events none

#l-infinite-loader-container
  opacity 0
  width 100%
  height 200px
  pointer-events none
  position absolute
  bottom 0
  left 0
  &.is-loading
    opacity 1

.loader
  width loadSize
  height loadSize
  background-color transparent
  margin 0 auto
  position relative
  &__pixel
    width pixelSize
    height pixelSize
    background-color #333
    transform translate3D(0, 0, 0)
    position absolute
    animation aroundTheSquare (0.4s * delayQuotient) infinite linear
    for num in (1..50)
      &--{num}
        animation-delay (-(0.015s * num))