@import '../variables'

#layout-header
  position fixed
  top 0
  left 0
  height topbar_h
  line-height topbar_h
  width 100%
  background-color backgroundgray
  padding 0
  display flex
  justify-content space-between
  z-index header_z
  transform translate3d(0, 0, 0)

  &.is-active, .has-results
    z-index header_z + 2

    .header--icon
      display none

  &:hover .header--icon svg *
    fill hovergray
    stroke hovergray

.header--icon
  position absolute
  left 0
  top 0
  width 40px

  svg
    width 46px
    height 46px
    line-height 2em
    padding 18px 15px 12px 15px
    outline none

    .iconic-magnifying-glass-lg
      display none

    .iconic-magnifying-glass-md
      display none

    .iconic-magnifying-glass-sm
      display inline

    & *
      stroke lightgray
      fill lightgray

.layout-header__search
  flex-grow 3
  position relative

input#layout-header__search__input
  width 100%
  height 50px
  font-size 1em
  border none
  outline 0
  font-weight normal
  padding 0 container_pad 0 topbar_h
  background-color backgroundgray

  &:focus
    background-color secondbackgroundgray

.layout-header__search__results
  position absolute
  left 0
  width 100%
  display none
  box-shadow downshadow
  background secondbackgroundgray

.layout-header__search.is-active
  .layout-header__search__results
    display block
  .header--icon
    display none

.search__results__list
  list-style-type none

.search__results__result
  padding 4px 0 4px 50px
  font-size 1em
  font-weight bold
  border-top 1px solid bordergray
  cursor pointer

  &:hover
    background-color backgroundgray

    li
      color hovergray

.search__results__see-all
  background-color bordergray

privacy-color('.search__results__result--privacy-', color)

.layout-header__search__close
  position absolute
  left 16px
  font-size 31px
  top 1px
  display none
  color lightgray

  &:hover
    color textgray

.is-active .layout-header__search__close, .has-results .layout-header__search__close
  display block

.layout-header__register
  padding 0 container_pad 0 container_pad
  a
    font-weight bold

.right
  text-align right
  margin 0

.logo-icon.dropdown--menu__trigger
  height topbar_h
  padding 0 container_pad 0 container_pad

.logo
  &.has-notifications .logo-icon
    svg
      fill alert

  .logo-icon svg
    display inline-block
    fill textgray
    width 25px
    height topbar_h

  .logo-icon:hover, &.dropdown--is_active .logo-icon
    svg
      fill hovergray

.new-channel-dropdown
  display inline-block

  .dropdown--menu__trigger:after
    content ""

.new-channel-btn
  height topbar_h
  font-size 13px
  line-height 53px
  color textgray
  border 0px solid bordergray
  text-align center
  margin 0 0 0 15px
  font-weight bold

  &:before
    font-size 11px !important
    top 0px !important

.dropdown--is_active .new-channel-btn, .new-channel-btn:hover
  border 0px solid lightgray
  color hovergray
  cursor pointer

.new-channel-btn--caption
  display inline-block
  vertical-align top
  margin -1px 0 0 6px

.dropdown--menu
  cursor pointer

.dropdown
  position absolute
  display none
  top topbar_h
  right 0
  margin 14px 12px 0 0
  font-size 1em
  text-align left
  background-color backgroundgray
  border-radius 0px
  border 1px solid textgray
  padding 0
  z-index 3001

  &.dropdown--size
    width 300px
    right 0

.dropdown__link
  display block
  padding 0 14px 0 14px
  line-height 4em
  font-weight bold

.dropdown__icon
  float right
  height 100%

.dropdown__notifications
  width 100%
  height 160px
  overflow scroll
  -webkit-overflow-scrolling touch
  margin 0 0 8px 0
  border-bottom 1px solid bordergray
  border-top 1px solid bordergray
  background-color secondbackgroundgray
  cursor default

  .feed-group__sentence
    font-size s_caption
    margin 0
    color textgray

    a
      color textgray

      &:hover
        color hovergray

  .feed-group__sentence.is_unread
    color alert

    a
      color alert

  .feed-group__timestamp
    padding-top 5px
    text-align center
    color lightgray

.dropdown--is_active .dropdown
  display block

.dropdown--menu__trigger:after
  content " \25be"
  color textgray
  font-size s_caption
  vertical-align top
  margin-left 0.3em
  display inline-block

.dropdown--is_active .dropdown--menu__trigger:after
  transform rotate(180deg)

@media (max-width:500px)

  .new-channel-btn--caption
    display none

  .dropdown
    .user__avatar--thumb .user__avatar__image
      top 6px

@media (max-width:375px)
  #layout-header
    position fixed

    li
      line-height 30px

    .logo
      &.has-notifications:after
        right 34px

  .layout-header__search__results
    position fixed
    overflow scroll
    width 100%
  input#layout-header__search__input
    padding 0 container_pad 0 40px

  .layout-header__register
    width 185px
  
  .logo-icon.dropdown--menu__trigger
    height topbar_h
    padding 0 15px 0 15px
  
  .dropdown--menu__trigger:after
    margin 0

  .dropdown
    position absolute
    overflow hidden
    border 0
    margin 0
    background-color #E5E5E5
    z-index lightbox_z + 2

  .dropdown__notifications
    height 35%
    width 100%
    position absolute
    bottom 0
    margin 0
    background-color #C8C8C8

  .dropdown__link
    height 13%
    font-size 16px
    border-top 1px solid backgroundgray

  .new-channel-dropdown__container
    width 100%
    height auto

  .dropdown.dropdown--size
    width 100%
    height auto
