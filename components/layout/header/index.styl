@import '../variables'

#layout-header
  position fixed
  top 0
  left 0
  height topbar_h
  line-height topbar_h
  width 100%
  background-color backgroundgray
  padding 0
  display flex
  justify-content space-between
  z-index header_z

  &.is-active, .has-results
    z-index header_z + 2

    .header--icon
      display none

  .header--icon
    position absolute
    left 0
    top 0
    width 40px

    svg
      width 46px
      height 46px
      line-height 2em
      padding 18px 15px 12px 15px
      outline none

      .iconic-magnifying-glass-lg
        display none

      .iconic-magnifying-glass-md
        display none

      .iconic-magnifying-glass-sm
        display inline

      & *
        stroke lightgray
        fill lightgray

  .layout-header__search
    flex-grow 3
    position relative

    input#layout-header__search__input
      width 100%
      height 50px
      font-size 1em
      border none
      outline 0
      font-weight normal
      padding 0 container_pad 0 topbar_h
      background-color backgroundgray

      &:focus
        background-color secondbackgroundgray
        // transition(0.1s)

    .layout-header__search__results
      position absolute
      left 0
      width 100%
      display none
      box-shadow downshadow
      background secondbackgroundgray

    &.is-active .layout-header__search__results
      display block

    .search__results__list
      list-style-type none

    .search__results__result
      padding 4px 0 4px 50px
      font-size 1em
      font-weight bold
      border-top 1px solid bordergray
      cursor pointer

      &:hover
        background-color backgroundgray

        li
          color hovergray

    .search__results__see-all
      background-color bordergray

    privacy-color('.search__results__result--privacy-', color)

    .layout-header__search__close
      position absolute
      left 16px
      font-size 31px
      top 1px
      display none
      color lightgray

      &:hover
        color textgray

    &.is-loading .layout-header__search__close, &.is-active .layout-header__search__close, &.has-results .layout-header__search__close
      display block

    &.is-loading .layout-header__search__close, &.is-active .layout-header__search__close, &.has-results .layout-header__search__close
      display block

  .layout-header__register
    padding 0 container_pad 0 container_pad
    a
      font-weight bold

  .right
    text-align right
    margin 0

  .logo
    padding 0 container_pad 0 container_pad

    &.has-notifications:after
      display block
      content ' '
      height 8px
      width 8px
      border-radius 100px
      background-color #d13f19
      position absolute
      top 8px
      right 45px

    .logo-icon svg
      display inline-block
      fill textgray
      width 25px
      height 50px

    .logo-icon:hover
      svg
        fill hovergray

.new-channel-dropdown
  display inline-block

  .dropdown--menu__trigger:after
    content ""


.new-channel-btn
  height 50px
  font-size 13px
  line-height 53px
  // height 30px
  // width 30px
  color textgray
  border 0px solid bordergray
  text-align center
  margin 0 0 0 15px
  font-weight bold

  &:before
    font-size 11px !important
    top 0px !important

  &:hover
    border 0px solid lightgray
    color hovergray
    cursor pointer

.new-channel-btn--caption
  display inline-block
  vertical-align top
  margin -1px 0 0 6px

.dropdown--menu
  cursor pointer

.dropdown
  position absolute
  display none
  top topbar_h
  right 0
  margin 14px 12px 0 0
  font-size 1em
  text-align left
  background-color backgroundgray
  border-radius 0px
  border 1px solid bordergray
  padding 0
  z-index 3001

  &.dropdown--size
    width 300px
    right 0

  .dropdown__link
    display block
    padding 0 14px 0 14px
    line-height 4em
    font-weight bold

  .dropdown__icon
    float right
    height 100%

  .dropdown__notifications
    width 100%
    height 160px
    overflow scroll
    -webkit-overflow-scrolling touch
    padding 8px 0 8px 0
    border-bottom 1px solid bordergray
    border-top 1px solid bordergray
    background-color secondbackgroundgray

    h2
      font-size s_caption
      margin 0
      color private

    .feed-group__timestamp
      padding-top 5px
      text-align center

    a
      height auto
      font-size s_caption
      font-weight bold
      line-height 17px
      color private

      &:hover
        color hovergray

.dropdown--is_active .dropdown
  display block

.dropdown--menu__trigger:after
  content " \25be"
  color textgray
  font-size s_caption
  vertical-align top
  margin-left 0.3em
  display inline-block
  transition transform 0s ease-in-quad

.dropdown--is_active .dropdown--menu__trigger:after
  transform rotate(180deg)

.rotate
  display none
  position fixed
  top 0
  left 0
  width 100%
  height 100%
  z-index 9999
  background-color backgroundgray
  color textgray
  
  .rotate__text
    top 35%
    left 20%
    font-size 1.3em
    line-height 1.2em
    width 60%
    text-align center
    position absolute
  
  .iconic
    margin-bottom 10px


@media (max-width:500px)

  #layout-header .logo
    width 70px
    padding 0 10px 0 10px

  .new-channel-btn--caption
    display none

  .dropdown
    .user__avatar--thumb .user__avatar__image
      top 6px

@media (max-width:350px)
  #layout-header
    .layout-header__search
      .layout-header__search__results
        position fixed
        overflow scroll
        width 100%

    li
      line-height 30px

  .dropdown
    position fixed
    overflow scroll
    margin 0

    .dropdown__notifications
      height 100px

    .dropdown__link
      height 45px
      line-height 45px

    .user__avatar--thumb
      height 30px
      width 30px
      line-height 30px

    .user__avatar--thumb .user__avatar__image
      top 7px

    .dropdown__icon
      float left
      margin-right 12px

  .new-channel-dropdown__container
    width 100%
    height 100%

  .dropdown.dropdown--size
    width 100%
    height 100%
    
@media (max-height:414px) and (max-width:780px) and (orientation:landscape)
  .rotate
    display block


