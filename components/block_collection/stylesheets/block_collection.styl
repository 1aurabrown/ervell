@import '../../../node_modules/jeet/stylus/jeet'
@import '../../layout/variables'

.block-collection
  cf()

.block
  column(1/4, cycle: 4)
  margin-bottom: 70px;
  overflow: hidden
  padding-bottom 2.5em
  position: relative

  .block__inner
    height 300px
    width 100%
    background-size: contain
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid transparent
    position relative

  colors = 'closed' closed, 'public' public, 'private' private
  for color in colors
    &{'.block--channel .block--privacy-' + color[0]}
      border: 1px solid color[1]

  &.block--user .block__inner
    border 1px solid textgray

  hr
    border: 1px solid #eee

  .block__content
    line-height: 1.4
    font-size: 14px
    overflow: hidden
    text-overflow: ellipsis
    max-height: 330px
    text-align: left

    a
      text-decoration: underline

  .block__overlay
    opacity: 0
    pointer-events: none
    background: #fff
    background-position: center
    background-size: 40%
    background-repeat: no-repeat

    colors = 'closed' closed, 'public' public, 'private' private
    for color in colors
      &{'.block__overlay--privacy-' + color[0]}
        border: 1px solid color[1]

  &:hover .block__overlay
    opacity: 1
    pointer-events: auto

.block__title
  font-size 12px
  font-weight 700
  text-align center
  margin 0
  position absolute
  bottom 0
  width 100%
  white-space nowrap

.block__channel-title, .block__user-avatar
  position absolute
  width 100%
  height 100%
  display table

.block__channel-title__inner, .block__user-avatar__inner
  display table-cell
  width 100%
  height 100%
  vertical-align middle
  text-align center

.block__text
  font-size 15px
  font-weight 400
  margin: 0.5em 0

@media (min-width: 2000px)
  .block
    column(1/5, uncycle: 4, cycle: 5)

@media (max-width: 1200px)
  .block
    column(1/3, uncycle: 4, cycle: 3)

@media (max-width: 768px)
  .block
    column(1/2, uncycle: 3, cycle: 2)

@media (max-width: 408px)
  .block
    column(1, uncycle: 3, cycle: 1)