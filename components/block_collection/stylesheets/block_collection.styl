@import '../../../node_modules/jeet/stylus/jeet'
@import '../../layout/variables'

/* GENERAL */
.grid
  display -webkit-box
  display -moz-box
  display -ms-flexbox
  display -webkit-flex
  display flex
  -webkit-flex-flow row wrap
  -moz-flex-flow row wrap
  -ms-flex-flow row wrap
  flex-flow row wrap
  align-items center

.grid--feed
  -webkit-justify-content center
  justify-content center

.grid__block
  flex 1 1 285px
  -webkit-flex 1 1 285px
  -ms-flex 1 1 285px
  max-width 315px
  text-align center
  margin 0 10px 90px 10px
  position relative
  display inline-block

  &:hover
    cursor pointer

.block-padding
  padding-top 100%

.grid__block__inner:hover, .grid__block__inner.is-active
  border 1px solid bordergray
  cursor pointer

  .grid__block__overlay
    opacity 1
    pointer-events all

  .grid__block__author
    visibility visible

body.is-mobile .grid__block__inner:hover, body.is-mobile .grid__block__inner.is-active
  .grid__block__overlay
    opacity 0
    pointer-events none
    display none !important

.grid__block__content
  height 100%
  width 100%

.grid__block--block .grid__block__inner, .grid__block--loading .grid__block__inner
  background-size 80px 80px
  background-image linear-gradient(
    45deg,
    rgba(bordergray, 0.5)   25%,
    transparent             25%,
    transparent             50%,
    rgba(bordergray, 0.5)   50%,
    rgba(bordergray, 0.5)   75%,
    transparent             75%,
    transparent
  )
  -webkit-animation loading 0.5s linear infinite
  animation loading 0.5s linear infinite

@keyframes loading
  from
    background-position 0 0
  to
    background-position 160px 80px

.grid__block__inner
  position absolute
  top 0
  bottom 0
  left 0
  right 0
  border 1px solid #fff

.grid__block--placeholder.loading .grid__block__inner
  border 1px dashed bordergray

.grid__block__author
  visibility hidden

.grid__block:hover
  .grid__block__author
    visibility visible

  .grid__block__title
      display none

.is-mobile .grid__block:hover
  .grid__block__author
    visibility hidden

  .grid__block__title
      display static

.grid__block__title, .grid__block__author
  color lightgray
  font-size s_caption
  font-weight bold
  text-align center
  padding 20px 0 5px 0
  left 0
  position absolute
  width 100%
  white-space nowrap
  line-height 1.2

  &:hover
    color lightgray
  
  svg
    position absolute
    margin -2px 0 0 7px

.grid__block__overlay
  opacity 0
  pointer-events none
  background-position center
  background-size 40%
  background-repeat no-repeat
  cursor pointer

privacy-color('.grid__block--channel .grid__block__inner--privacy-', border-color)
privacy-color('.grid__block--channel .grid__block__inner--privacy-', color)
privacy-color-border-hover('.grid__block--channel .grid__block__inner--privacy-', border-color)
privacy-color-hover('.grid__block--channel .grid__block__inner--privacy-', color)

privacy-color('.list__block--channel--', color)

.grid__block__content__image
  max-width 100%
  max-height 100%

.grid__block--text .valign-inner
  vertical-align top

.grid__block__content__text
  @extend .serif-text
  height 100%
  padding 1em 1.2em 0 1.2em
  font-size 1.04em
  overflow  hidden

  h1, h2
    font-family font_sans
    font-size 1.2em
    line-height 1.1em
    margin 0 0 8px 0
  h2
    font-size 1em
    line-height 1.4em
  p
    margin-bottom 15px
    font-size 1em
    line-height 1.4em
    margin 0 0 10px 0

  a
    font-weight bold
    padding 0

  ul
    list-style disc inside none
    margin-bottom 10px

  li
    font-size 1em
    line-height 1.4em
    margin-bottom 5px

  ol
    list-style decimal inside none
    margin-bottom 5px

  em, strong, blockquote, ul, ol
    padding 0

  hr
    margin 30px 35px
    border 0
    border-top 1px solid bordergray
    box-sizing none

  blockquote
    margin 10px 0 10px 2px
    border-left 1px solid bordergray
    p
      padding 0 25px 0 10px

.button--delete-block
  float right
  width 28px
  height 28px
  line-height 32px
  font-size 12px
  color lightgray
  display none

  &:hover
    color alert

.grid.is-editable .button--delete-block,
.grid__block.can-edit .button--delete-block,
.grid__block.can-edit .button--delete-block
  display block

/* USER */
.grid__block--user:hover
  color hovergray

  .grid__block__inner
    border 2px solid lightgray

  &:hover
    .grid__block__author
      visibility visible

    .grid__block__title
      display none

.grid__block--user .grid__block__inner
  background-color backgroundgray
  border 2px solid lightgray

  h2
    margin 40px 0 20px 0

  &:hover
    color hovergray
    border 2px solid bordergray
    
/* ATTACHMENT */
.grid__block--attachment .grid__block__inner

/* CHANNEL */
.grid__block--channel
  h2
    font-weight normal
    padding 15px 12px 0 12px

  .grid__block__content
    width 100%

  .grid__block__inner
    border-width 2px

  .button--inblock
    color inherit
    border-color inherit

    &:hover
      color hovergray

  &:hover
    .grid__block__channel__stats
      visibility visible

.is-mobile .grid__block--channel
  &:hover
    .grid__block__channel__stats
      visibility hidden

.grid__block__channel__stats
  visibility hidden
  font-weight normal
  line-height 1.5em
  font-size s_caption + 1
  height 25px
  margin 5px 0 0 0

.grid__block__mini-feed
  display none
  font-size s_caption
  padding-top 135px
  font-weight bold
  color textgray

  span
    padding 0 5px

/* COMMENT */
.grid__block__content__comment
  height 100%
  background-color backgroundgray
  padding 0 1.1em 0 1.1em
  border-top 1px solid lightgray

  p
    @extend .serif-text
    font-size s_caption + 1
    padding 15px

/* CONNECT */
.grid__block__connect-container
  position absolute
  overflow hidden
  word-break break-word
  border 1px solid #fff

.grid__block__connect-container
  pointer-events none
  opacity 0
  background-color #fff

  &.is-active
    opacity 1
    pointer-events all

@media (max-width:(block_width_mar * 3))
  .grid
    -webkit-justify-content center
    justify-content center

@media (max-width:500px)
  .path--header
    padding 0 0 20px 0
  .grid__block
    margin 0 0 80px 0

@import '../../avatar/stylesheets/avatar'
@import '../../lightbox/stylesheets/lightbox'
@import '../../connect/stylesheets/connect'
