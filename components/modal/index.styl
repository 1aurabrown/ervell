@import '../layout/variables'

// Disable scroll on body when open
body.is-modal
  overflow hidden

#modal
  z-index modal_z
  // transition opacity 0.25s
  opacity 0
  color textgray
  antialiased()
  // Default is a simple fade in
  &[data-state='open'], &.is-open
    opacity 1
    transition opacity 0.15s
    > .modal-backdrop > .modal-dialog
      // Avoid transitioning the initial open
      transition all 0.15s, width 0
  // Slide modal dialog in
  &.is-slide-in
    > .modal-backdrop > .modal-dialog
      transform translateY(100px)
      transition transform 0.4s
    &[data-state='open'], &.is-open
      opacity 1
      > .modal-backdrop > .modal-dialog
        transform translateY(0)
        // Avoid transitioning the initial open
        transition all 0.15s, width 0, transform 0.4s

  &.is-loading
    > .modal-backdrop::before
      display block
      content ''

  &.confirm
    .modal-body
      text-align center
      padding-top 100px
      padding-bottom 100px
    h3
      margin-top 20px
      font-size 24px

#modal, .modal-backdrop
  position fixed
  top 0
  right 0
  bottom 0
  left 0
  height 100%

#modal.has-nobackdrop > .modal-backdrop
  background-color transparent

.modal-dialog
  position fixed
  overflow-y auto
  background #fff
  border 0px solid bordergray
  &.is-notransition
    transition none !important

.modal-close
  display block
  position absolute
  top 17px
  right 18px
  font-size 24px
  font-weight normal
  line-height 40px
  text-align center
  width 40px
  height 40px
  cursor pointer
  z-index 2
  color lightgray

  &:hover
    color hovergray

.modal-body
  top 10%
  width 90%
  max-width 760px
  margin auto
  vertical-align middle
  height auto
  padding 0
  // transition opacity 0.25s
  &[data-state='fade-out'], &.is-fade-out
    opacity 0
  &[data-state='fade-in'], &.is-fade-in
    opacity 1

.modal-title
  position absolute
  left 30px
  top 22px
  font-weight bold
  margin 0
  padding 0
  border-bottom 0px solid backgroundgray

.modal-forgot
  position relative
  float right
  font-size 12px
  margin -30px 10px 0 0
  text-align right

  a
    color lightgray
    font-weight bold
    &:hover
      color textgray

.modal-checkbox
  display none

#auth-page
  max-width 400px
  margin auto

#auth-login, #auth-register, #auth-forgot, #auth-settings
  margin-top 4px
  line-height 45px
  border-top 1px solid bordergray

.auth-submit
  font-size 1em
  color textgray
  position relative

  &[data-state=loading]:before, &[data-state=success]:before
    background white
    position absolute
    left 0
    height 100%
    width 100%
    line-height 45px

  #auth-login&[data-state=loading]:before
    content "Logging in..."

  #auth-login&[data-state=success]:before
    content "Redirecting..."
    color public

  #auth-register&[data-state=loading]:before
    content "Submitting"

  #auth-register&[data-state=success]:before
    content "Success: logging in"
    color public

  #auth-forgot&[data-state=loading]:before
    content "Requesting..."

  #auth-forgot&[data-state=success]:before
    content "Success"
    color public

  #auth-settings&[data-state=loading]:before
    content "Updating your profile"

  #auth-settings&[data-state=success]:before
    content "Success"
    color public

#avatar-upload input[type="file"]
  display none

#avatar img.is-loading
  opacity 0.5

.avatar-upload-pointer
  text-align center
  margin-bottom 20px

.auth-logo
  text-align center
  height 20px

  svg
    width 28px
    height 100%

.auth-nav
  text-align center
  margin-bottom 50px

  .breadcrumb
    display inline-block
    margin (s_margin) auto 0
    font-size 1em

  li
    font-weight bold
    color lightgray

  li.is-active
    color hovergray

.auth-errors
  font-size s_caption
  text-align center
  font-weight bold
  color alert

  &.is-active
    margin 20px 0 10px 0

.is-validated
  .auth-errors
    color alert

@media (max-width:500px)
  .modal-body
    padding 25% 0 0 0

  .modal-title
    top 4%
    left 5%

  .modal-close
    top 3.5%
    right 5%

  .auth-logo
    svg
      width 100px
